

.app-layout {
    display: grid;
    height: 100vh;
    grid-template-rows: auto 1fr auto;
    grid-template-columns: 0 1fr 0;
    grid-template-areas:
        "header header header"
        "left-panel main-content right-panel"
        "footer-gallery footer-gallery footer-gallery";
    transition: grid-template-columns 0.3s ease-in-out;
}

/* Panel visibility states for desktop */
.app-layout.left-panel-open {
    grid-template-columns: 384px 1fr 0; /* 384px = w-96 */
}
.app-layout.right-panel-open {
    grid-template-columns: 0 1fr 320px; /* 320px = w-80 */
}
.app-layout.left-panel-open.right-panel-open {
    grid-template-columns: 384px 1fr 320px;
}

/* Grid area assignments */
.header { grid-area: header; z-index: 20; }
.left-panel { grid-area: left-panel; overflow: hidden; }
.main-content { grid-area: main-content; position: relative; display: flex; align-items: center; justify-content: center; background-color: #18181b; overflow: hidden; }
.right-panel { grid-area: right-panel; overflow: hidden; }
.footer-gallery { grid-area: footer-gallery; }

/* Transitions for panels */
.left-panel, .right-panel {
    transition: all 0.3s ease-in-out;
    background-color: #18181b;
    border-left: 1px solid #27272a;
    border-right: 1px solid #27272a;
}

/* Scrollbar styles for panels */
.left-panel > div,
.properties-scrollbar,
.layers-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: #a855f7 #3f3f46;
}

.left-panel > div::-webkit-scrollbar,
.properties-scrollbar::-webkit-scrollbar,
.layers-scrollbar::-webkit-scrollbar {
    width: 6px;
}

.left-panel > div::-webkit-scrollbar-track,
.properties-scrollbar::-webkit-scrollbar-track,
.layers-scrollbar::-webkit-scrollbar-track {
    background: #3f3f46;
}

.left-panel > div::-webkit-scrollbar-thumb,
.properties-scrollbar::-webkit-scrollbar-thumb,
.layers-scrollbar::-webkit-scrollbar-thumb {
    background-color: #a855f7;
    border-radius: 3px;
    border: 1px solid #3f3f46;
}


/* Hide scrollbars when panels are collapsed on desktop */
.app-layout:not(.left-panel-open) .left-panel,
.app-layout:not(.right-panel-open) .right-panel {
    border-left: none;
    border-right: none;
}

.mobile-backdrop {
    display: none;
}

.cursor-grab {
    cursor: grab;
}
.cursor-grab:active {
    cursor: grabbing;
}


/* --- Responsive Styles for Mobile & Tablet --- */
@media (max-width: 1024px) {
    .app-layout {
        /* Change to a single column layout, panels will be overlaid */
        grid-template-columns: 1fr;
        grid-template-rows: auto 1fr 96px; /* Header, Main, Footer (h-24) */
        grid-template-areas:
            "header"
            "main-content"
            "footer-gallery";
    }

    /* Panels become fixed, off-screen drawers */
    .left-panel, .right-panel {
        position: fixed;
        top: 0;
        height: 100vh;
        z-index: 100;
        width: 85vw;
        max-width: 384px;
        box-shadow: 0 0 20px rgba(0,0,0,0.5);
        border: none;
        overflow-y: auto;
    }

    .left-panel {
        left: 0;
        transform: translateX(-100%);
    }

    .right-panel {
        right: 0;
        transform: translateX(100%);
    }

    /* Class to slide panels into view */
    .left-panel.mobile-panel-open {
        transform: translateX(0);
    }
     .right-panel.mobile-panel-open {
        transform: translateX(0);
    }

    /* Mobile Backdrop for closing panels */
    .mobile-backdrop {
        display: block;
        position: fixed;
        inset: 0;
        background-color: rgba(0, 0, 0, 0.6);
        z-index: 99;
        backdrop-filter: blur(2px);
    }
}